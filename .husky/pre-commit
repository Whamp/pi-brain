#!/bin/sh
set -e

# Check if there are any staged files
if [ -z "$(git diff --cached --name-only)" ]; then
  echo "No staged files to check"
  exit 0
fi

# Run full validation stack (build, format, lint, deadcode, duplicates, tests)
npm run validate

# Refresh codemap documentation
./scripts/refresh-codemap.sh
