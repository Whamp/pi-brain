# Code Review Fix Progress

Branch: fix/code-review-20260127-155450
Created: 2026-01-27 15:54
Main branch: major/pi-brain

## Issues to Fix

### P2 Issues (Will Fix)

1. **src/daemon/processor.ts:749-754** - Missing prompt file error loses diagnostic information
   - When prompt file access check fails, EnvironmentValidationResult only indicates `valid: false` with empty `missingSkills`
   - Need to add `missingPromptFile?: boolean` or `reason?: string` field for better diagnostics

2. **src/daemon/worker.ts:193-203** - Idle loop blocks stop() for up to 30 seconds
   - Worker idle re-check loop sleeps for 30 seconds between checks
   - If stop() is called during this sleep, worker won't exit until sleep completes
   - Need interruptible wait pattern (shorter intervals or signal-based)

### P3 Issues (Ignored per instructions)

- package.json `copy-assets` script not portable to Windows
- vite.config.ts proxy only active in dev mode

---
